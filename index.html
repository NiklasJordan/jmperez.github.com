<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta http-equiv=Accept-CH content="DPR, Viewport-Width, Width"><title>José M. Pérez</title><meta name=description content="I am a software engineer who loves web development. Speaker and open-source contributor."><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,viewport-fit=cover"><link rel=author href="https://plus.google.com/107456024651797783420"/><link rel=alternate type=application/rss+xml title="Jose M. Perez" href=https://jmperezperez.com/feed.xml><meta name=twitter:card content=summary><meta name=twitter:url content="https://jmperezperez.com/" property=og:url><meta name=twitter:title content="José M. Pérez" property=og:title><meta name=twitter:site content=@jmperezperez><meta property=og:image content=https://res.cloudinary.com/jmperez/image/upload/f_auto,c_scale/v1519156883/profile_ysrm5y.jpg><meta name=twitter:image content=https://res.cloudinary.com/jmperez/image/upload/f_auto,c_scale/v1519156883/profile_ysrm5y.jpg><meta property=fb:app_id content=1702266270006013><meta property=fb:pages content="1639848659664211"/><link rel=canonical href="https://jmperezperez.com/"/><style>*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border:none;font:inherit;margin:0;padding:0;vertical-align:baseline}button,input{background:0 0}body{background:#fff;color:#555;font-family:Georgia,Times;font-weight:300;font-style:normal;font-size:19px;line-height:1.725;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-text-size-adjust:100%}@media(max-width:800px){body{font-size:17px}}@media(max-width:600px){body{font-size:15px}}h1,h2,h3,h4,h5{color:#212121;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:600;font-size:1em;line-height:1.3;margin-bottom:1em}h2,h3,h4,h5{margin-top:2em}#menu a,.button{font-size:1em;font-weight:400}.post ol,.post ul,amp-video,amp-vimeo,amp-youtube,iframe,p,video{margin:0;margin-bottom:1em}twitterwidget{margin-bottom:1em!important}a{color:#2a7cb2;font-weight:inherit;text-decoration:none;transition:color .15s ease-out,border-bottom-color .15s ease-out}a:hover{color:#2a7cb2}p a{border-bottom:1px solid #eee}p a:hover{border-bottom-color:#212121}strong{font-weight:700}em{font-style:italic}h1{font-size:1.7em}h2{color:#444;font-size:1.6em;font-weight:400}h3{color:#666;font-size:1.4em;font-weight:400}h4{font-size:1.18em}h5{font-size:1em}a h1,a h2,a h3,a h4,a h5{transition:color .15s ease-out}a:hover h1,a:hover h2,a:hover h3,a:hover h4,a:hover h5{color:#3498db}.quote{margin:0 0 15px 0}blockquote{border-left:2px solid #ccc;font-style:italic;margin:0 0 15px 0;padding-left:20px}ol,ul{margin:0 0 15px 0;padding-left:25px}ul{list-style:square}ol{list-style:decimal}hr{background:#eee;color:#eee;clear:both;display:block;height:2px;margin:30px auto;width:50%}code,pre{color:#333;font-family:Courier,Menlo,Monaco;font-size:.8em;letter-spacing:0;overflow-x:auto}pre{padding:.8em 1em;white-space:pre-wrap}code{margin:0}.post::after{display:block;clear:both;content:''}.main-header{background-color:#005689;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;overflow:hidden;padding:1em;position:relative;text-align:center;width:100%}#menu{display:inline-block;margin:1px 0}#menu a{color:#fff;font-size:14px;margin-left:15px;padding:20px 10px;text-transform:uppercase}@media(max-width:500px){#menu a{margin-left:10px;padding:10px 5px}}#menu a:first-child{margin-left:0}#menu a[aria-current]{font-weight:700}#page{margin:0 auto;max-width:40em;padding:3em 2em;position:relative}.videoWrapper{height:0;margin-bottom:1em;padding-bottom:56.25%;padding-top:25px;position:relative}.videoWrapper amp-youtube,.videoWrapper iframe{height:100%;left:0;position:absolute;top:0;width:100%}.wrapper{border-top:2px solid #eee;padding:3em 0}.wrapper:first-child{border-top:none;padding-top:5%}.posts-list h2{margin-top:0}.post{display:block;width:100%}.post div[itemprop=articleBody]>p:first-child{color:#333}.post li{margin-bottom:.5em}.post p img{border:1px solid #eee;display:block;max-width:100%}.post img+.caption{padding-top:5px}.post .svg-container{margin-bottom:5%;max-width:100%;text-align:center}video{height:auto;max-width:100%}.post .svg-container object{width:100%}.tag-list{display:inline-block;list-style-type:none;margin:0;padding:0}.tag-list-item{display:inline-block;margin-left:.8em}.pagination{text-align:center}.pagination a{min-width:30px;max-height:30px;text-align:center}footer{border-top:1px dashed #ddd;padding:2em;text-align:center}.timing-stats{font-size:.7em;padding:.35em}.button{background-color:#fff;border:1px solid #555;border-radius:20px;color:#555;display:inline-block;font-size:13px;line-height:10px;padding:10px 20px;transition:background-color .15s ease-out}.button:hover{background-color:#3498db;border-color:transparent;color:#fff}.button.inactive{background-color:#ccc;color:#fff}.search-goog input{border:2px solid #ddd;padding:10px}.search-goog input[type=submit]{background-color:#ddd;cursor:pointer}@media only screen and (max-width:768px){#page,.wrapper{margin:0;max-width:100%;padding:1.5em;width:100%}.wrapper{padding:10% 0}.wraper::after{clear:both;content:'';display:block}.post{margin:0 auto;max-width:640px}}.outscreen{height:1px;left:-1000px;overflow:hidden;position:absolute;top:auto;width:1px}.callout{border:1px solid #eee;border-left-color:#777;border-left-width:5px;border-radius:3px;font-size:90%;padding:20px;margin:20px 0}.author{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:.8em;margin-bottom:2em}.author .name{line-height:1.5;padding-top:.35em}.bd,.media{overflow:hidden;zoom:1}.media .img{float:left}.avatar-img{border-radius:100%;height:3.5em;margin-right:.5em;width:3.5em}code[class*=language-],pre[class*=language-]{color:#393a34;font-family:Consolas,"Bitstream Vera Sans Mono","Courier New",Courier,monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;font-size:.85em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#b3d4fc}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border:1px solid #ddd;background-color:#fff}:not(pre)>code[class*=language-]{padding:.2em;padding-top:1px;padding-bottom:1px;background:#f8f8f8;border:1px solid #ddd}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#998;font-style:italic}.token.namespace{opacity:.7}.token.attr-value,.token.string{color:#e3116c}.token.operator,.token.punctuation{color:#393a34}.token.boolean,.token.constant,.token.entity,.token.inserted,.token.number,.token.property,.token.regex,.token.symbol,.token.url,.token.variable{color:#005cc5}.token.keyword{color:#d73a49}.token.atrule,.token.attr-name{color:#6f42c1}.token.deleted,.token.function{color:#6f42c1}.token.selector{color:#00009f}.token.tag{color:#22863a}.token.class-name{color:#6f42c1}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.code-wrap pre{white-space:pre-wrap}.caption{display:block;font-size:.8em;text-align:center}.codepen-aspect-ratio>iframe{height:100%;position:absolute;width:100%}.twitter-tweet{margin-left:auto;margin-right:auto}.twitter-tweet::after{content:"";display:block;padding-bottom:20px;width:100%}.me{max-width:20em;margin:0 auto .5em;text-align:center}.me h1{margin-bottom:0}</style><meta name=theme-color content=#005689><link rel=manifest href=/manifest.json></head><body><script>!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-39254352-1","auto"),ga("send","pageview");</script><header class=main-header><nav id=menu><a href="/" aria-current=page>Blog</a> <a href="/projects/">Projects</a> <a href="/talks/">Speaking</a> <a href="/about-me/">About</a></nav></header><div id=page><div><div class=me><img src=https://res.cloudinary.com/jmperez/image/upload/w_240,f_auto,c_scale/v1519156883/profile_ysrm5y.jpg style=border-radius:100% alt="José M. Pérez" sizes=120px width=120 height=120><h1>José M. Pérez</h1><p>Engineer at <a href=https://spotify.com>Spotify</a> and Web Perf geek.</p></div></div><div class="row posts-list"><div class=wrapper><div class=post><a href="/high-performance-lazy-loading/"><h2>Increase the Performance of your Site with Lazy-Loading and Code-Splitting</h2></a><p></p><p>Componentization has marked a before and after in web development. The main advantages that are usually mentioned is reusability and modularization. Well defined pieces that we can use to build our sites, like bricks of Legos. It turns out this component structure provides a great foundation to improve the performance of our sites.</p><p><img style="max-width:100%; border: 0" sizes="(max-width: 768px) 100vw, 684px" srcset="https://res.cloudinary.com/jmperez/image/upload/w_auto:100:400,f_auto/v1522995807/high-performance_mbjoct.jpg 400w, https://res.cloudinary.com/jmperez/image/upload/w_auto:100:800,f_auto/v1522995807/high-performance_mbjoct.jpg 800w, https://res.cloudinary.com/jmperez/image/upload/w_auto:100:1200,f_auto/v1522995807/high-performance_mbjoct.jpg 1200w, https://res.cloudinary.com/jmperez/image/upload/w_auto:100:1400,f_auto/v1522995807/high-performance_mbjoct.jpg 1400w" src=https://res.cloudinary.com/jmperez/image/upload/w_auto:100:684,f_auto/v1522995807/high-performance_mbjoct.jpg alt=""></p><p>We are explicit about our dependencies, so we know what code we need to run to run a specific component. Lazy-loading and bundle splitting can have a huge impact on page performance: less code requested, parsed, and executed. And this not only applies to JavaScript, but every type of asset.</p><p>I see many sites that could take advantage of this, and I wanted to show how some basic techniques to load content as needed.</p><div class=post-data><a class=button href="/high-performance-lazy-loading/">Continue reading <span class=outscreen>about Increase the Performance of your Site with Lazy-Loading and Code-Splitting</span>...</a></div></div></div><div class=wrapper><div class=post><a href="/page-load-footer/"><h2>Displaying Page Load Metrics on Your Site</h2></a><p></p><p>I was browsing <a href=https://timkadlec.com target=_blank rel=noopener>Tim Kadlec’s website</a> and I noticed he had added page load time metrics in the footer.</p><p><img src=https://res.cloudinary.com/jmperez/image/upload/w_auto:100:684,f_auto,c_scale/v1522388675/load-time/tim-kadlec-load-time.png sizes="(max-width: 768px) 100vw, 684px" style="border: 0"> <small class=caption>Tim Kadlec’s site shows how long the page took to load in the footer.</small></p><p>Stoyan Stefanov also realized and wrote <a href="http://www.phpied.com/this-page-loaded-in-x-seconds/" target=_blank rel=noopener>“This page loaded in X seconds”</a>, a blog post describing the code used for this. Stoyan also created a bookmark that shows an alert with the load time of the current page. The data is obtained from <a href=https://developer.mozilla.org/en-US/docs/Web/API/Window/performance target=_blank rel=noopener><code>window.performance</code></a>.</p><p>I liked the idea and added a similar snippet that shows the page load time in the footer (you should see it if you scroll to the bottom). If your browser supports the <a href="https://css-tricks.com/paint-timing-api/" target=_blank rel=noopener>Paint Timing API</a> you will see a couple of extra metrics: First Paint and First Contentful Paint.</p><div class=post-data><a class=button href="/page-load-footer/">Continue reading <span class=outscreen>about Displaying Page Load Metrics on Your Site</span>...</a></div></div></div><div class=wrapper><div class=post><a href="/roughjs/"><h2>Sketchy SVGs with RoughJS</h2></a><p></p><p>I love hand-drawn graphs and I have always fantasized about applying it to vector images. That’s why I was very happy to find out about <a href="https://roughjs.com/" target=_blank rel=noopener>RoughJS</a>, a library that draws SVG primitives like lines, curves, arcs, polygons, circles, ellipses and paths on a Canvas in a hand-drawn style.</p><div class=post-data><a class=button href="/roughjs/">Continue reading <span class=outscreen>about Sketchy SVGs with RoughJS</span>...</a></div></div></div><div class=wrapper><div class=post><a href="/progressive-images-user-perception/"><h2>Taking A Look At The State Of Progressive Images And User Perception</h2></a><p></p><p>I have just published my first article on Smashing Magazine. There I talk about progressive image loading techniques and what we know about how users perceive them.</p><p><img src=https://res.cloudinary.com/jmperez/image/upload/w_auto:100:684,f_auto,c_scale/v1518013062/smashing/filmstrip.png sizes="(max-width: 768px) 100vw, 684px"> <small class=caption>Percentage of visual completeness increases using progressive image loading.</small></p><p>Read more on <a href="https://www.smashingmagazine.com/2018/02/progressive-image-loading-user-perceived-performance/" target=_blank rel=noopener>Smashing Magazine</a>.</p><div class=post-data><a class=button href="/progressive-images-user-perception/">Continue reading <span class=outscreen>about Taking A Look At The State Of Progressive Images And User Perception</span>...</a></div></div></div><div class=wrapper><div class=post><a href="/choosing-platform-blogging/"><h2>Choosing a Platform for Blogging</h2></a><p></p><p>Or why no single platform is the best one.</p><p>As a web developer I consider <strong><a href=https://jmperezperez.com>my personal website</a> part of my portfolio</strong>. It’s the canonical site where I write about the topics I care about. <a href="https://jmperezperez.com/personal-projects/">It helps me remembering ideas and resources</a>. It also gives me a public presence on Internet beyond <a href=https://www.linkedin.com/in/jmperezperez target=_blank rel=noopener>LinkedIn</a> and <a href=https://twitter.com/jmperezperez target=_blank rel=noopener>Twitter</a>.</p><p>But It’s not only about the contents. <strong>It’s also about how they are delivered</strong>. My blog is my playground, a space where I can play with browser APIs and put in practice ideas about accessibility and performance.</p><div class=post-data><a class=button href="/choosing-platform-blogging/">Continue reading <span class=outscreen>about Choosing a Platform for Blogging</span>...</a></div></div></div><div class=wrapper><div class=post><a href="/my-2017/"><h2>My 2017</h2></a><p></p><p>This year has been a ride. More blogging and speaking at events than ever, and the feeling that it was well worth it.</p><div class=post-data><a class=button href="/my-2017/">Continue reading <span class=outscreen>about My 2017</span>...</a></div></div></div><div class=wrapper><div class=post><a href="/frontfest-moscow-2017/"><h2>Speaking at FrontFest 2017 in Moscow, Russia</h2></a><p></p><p>A couple of weeks ago I attended <a href="https://2017.frontfest.ru/" target=_blank rel=noopener>FrontFest 2017</a> in Moscow. There were around 200 attendees at Digital October, an impressive venue. I had a lot of fun and met many local developers.</p><img style=max-width:100% sizes="(max-width: 768px) 100vw, 684px" srcset="https://res.cloudinary.com/jmperez/image/upload/w_auto:100:400,f_auto/v1512318752/frontfest/frontfest-01.jpg 400w,
        https://res.cloudinary.com/jmperez/image/upload/w_auto:100:800,f_auto/v1512318752/frontfest/frontfest-01.jpg 800w,
        https://res.cloudinary.com/jmperez/image/upload/w_auto:100:1200,f_auto/v1512318752/frontfest/frontfest-01.jpg 1200w,
        https://res.cloudinary.com/jmperez/image/upload/w_auto:100:1400,f_auto/v1512318752/frontfest/frontfest-01.jpg 1400w" src=https://res.cloudinary.com/jmperez/image/upload/w_auto:100:684,f_auto/v1512318752/frontfest/frontfest-01.jpg alt="Jose M. Perez speaking at Frontfest Moscow 2017"><div class=post-data><a class=button href="/frontfest-moscow-2017/">Continue reading <span class=outscreen>about Speaking at FrontFest 2017 in Moscow, Russia</span>...</a></div></div></div><div class=wrapper><div class=post><a href="/svg-placeholders/"><h2>Using SVG as placeholders — More Image Loading Techniques</h2></a><p></p><p>I’m passionate about image performance optimisation and making images load fast on the web. One of the most interesting areas of exploration is placeholders: what to show when the image hasn’t loaded yet.</p><p>During the last days I have come across some loading techniques that use SVG, and I would like to describe them in this post.</p><img style=max-width:100% sizes="(max-width: 768px) 100vw, 684px" srcset="https://res.cloudinary.com/jmperez/image/upload/w_auto:100:400,f_auto/v1509278557/jmperez-composition-primitive_j8zyfn.jpg 400w,
        https://res.cloudinary.com/jmperez/image/upload/w_auto:100:800,f_auto/v1509278557/jmperez-composition-primitive_j8zyfn.jpg 800w,
        https://res.cloudinary.com/jmperez/image/upload/w_auto:100:1200,f_auto/v1509278557/jmperez-composition-primitive_j8zyfn.jpg 1200w,
        https://res.cloudinary.com/jmperez/image/upload/w_auto:100:1400,f_auto/v1509278557/jmperez-composition-primitive_j8zyfn.jpg 1400w" src=https://res.cloudinary.com/jmperez/image/upload/w_auto:100:684,f_auto/v1509278557/jmperez-composition-primitive_j8zyfn.jpg alt="Example of a SVG generated using 10 and 100 triangles based on a bitmap image"><p><small class=caption>Generating SVGs from images can be used for placeholders. Keep reading!</small></p><div class=post-data><a class=button href="/svg-placeholders/">Continue reading <span class=outscreen>about Using SVG as placeholders — More Image Loading Techniques</span>...</a></div></div></div><div class=wrapper><div class=post><a href="/duotone-using-css-blend-modes/"><h2>Duotone using CSS blend modes</h2></a><p></p><p>In a past post I explained <a href=/duotone-using-fecolormatrix>how to use SVG and a <code>feColorMatrix</code> filter</a> to apply a duotone effect to an image. This time I’m going to show how to achieve a similar effect with only CSS.</p><div class=post-data><a class=button href="/duotone-using-css-blend-modes/">Continue reading <span class=outscreen>about Duotone using CSS blend modes</span>...</a></div></div></div><div class=pagination><a href="/page/2/" class=next rel=next>Next</a></div></div></div><script>"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js").then(function(n){})["catch"](function(n){})});</script><footer><section class=links><a href=https://twitter.com/jmperezperez>@jmperezperez</a> on Twitter · <a href=https://github.com/JMPerez>GitHub</a> · <a href=http://www.linkedin.com/in/jmperezperez>LinkedIn</a></section><div class=timing-stats></div></footer><script>window.addEventListener('load', () => {
     setTimeout(() => {
      var t = window.performance && performance.timing;
      function round2(num) { return Math.round(num * 100) / 100; }
      if (t) {
          var timingStats = document.querySelector('.timing-stats');
          var loadTime = (t.loadEventEnd - t.navigationStart) / 1000;
          var timingStatsHTML = 'This page loaded in ' + round2(loadTime) + ' seconds. ';
          var performanceEntries = performance.getEntriesByType('paint');
          performanceEntries.forEach(function(performanceEntry, i, entries) {
            var name = performanceEntry.name;
            if (name === 'first-paint') {
              name = '<abbr title=' + name + '>FP</abbr>';
            } else if (name === 'first-contentful-paint') {
              name = '<abbr title=' + name + '>FCP</abbr>';
            }
            timingStatsHTML += name + ' was ' + round2(performanceEntry.startTime / 1000) + ' seconds. ';
          });
          timingStats.innerHTML = timingStatsHTML;
      }
    }, 0);
   });</script><script>try {
    function isDecodeSupported() {
      const img = new Image();
      return typeof img.decode === 'function';
    }

    function isGaAvailable() {
      return !!window.ga;
    }

    async function loadAndDecode(src) {
      const img = new Image();
      img.src = src;
      const startTime = Date.now();
      await img.decode();
      return Date.now() - startTime;
    }

    setTimeout(() => {

      (async () => {
      if (isGaAvailable() && isDecodeSupported()) {
        const options = [
          '1000-q0',
          '1000-q80',
          '2000-q0',
          '2000-q80',
          '5169-q0',
          '5169-q80'
        ];
        const times = [];
        const option1 = options[0];
        times.push(await loadAndDecode(`https://jmperezperez.com/assets/decode/micael-widell-520896-unsplash-${option1}.jpg`));
        const option2 = options[1];
        times.push(await loadAndDecode(`https://jmperezperez.com/assets/decode/micael-widell-520896-unsplash-${option2}.jpg`));
        const option3 = options[2];
        times.push(await loadAndDecode(`https://jmperezperez.com/assets/decode/micael-widell-520896-unsplash-${option3}.jpg`));
        const option4 = options[3];
        times.push(await loadAndDecode(`https://jmperezperez.com/assets/decode/micael-widell-520896-unsplash-${option4}.jpg`));
        const option5 = options[4];
        times.push(await loadAndDecode(`https://jmperezperez.com/assets/decode/micael-widell-520896-unsplash-${option5}.jpg`));
        const option6 = options[5];
        times.push(await loadAndDecode(`https://jmperezperez.com/assets/decode/micael-widell-520896-unsplash-${option6}.jpg`));

        console.log(times);
        options.forEach((option, index) => {
          ga('send', 'event', 'image-decode-2', option, times[index]);
        });

      }})();
    }, 5000);
  } catch (e) {

  }</script></body></html>