<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta http-equiv=Accept-CH content="DPR, Viewport-Width, Width"><title>Polymer and Web Components - José M. Pérez</title><meta name=description content="I am a software engineer who loves web development. Speaker and open-source contributor."><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,viewport-fit=cover"><link rel=author href="https://plus.google.com/107456024651797783420"/><link rel=alternate type=application/rss+xml title="Jose M. Perez" href=https://jmperezperez.com/feed.xml><meta name=twitter:card content=summary><meta name=twitter:url content="https://jmperezperez.com/implementing-polymer-element/" property=og:url><meta name=twitter:title content="Polymer and Web Components - José M. Pérez" property=og:title><meta name=twitter:site content=@jmperezperez><meta property=og:image content=https://res.cloudinary.com/jmperez/image/upload/f_auto,c_scale/v1519156883/profile_ysrm5y.jpg><meta name=twitter:image content=https://res.cloudinary.com/jmperez/image/upload/f_auto,c_scale/v1519156883/profile_ysrm5y.jpg><meta property=fb:app_id content=1702266270006013><meta property=fb:pages content="1639848659664211"/><link rel=canonical href="https://jmperezperez.com/implementing-polymer-element/"/><style>a,a:hover{color:#2a7cb2}.post::after,hr{display:block;clear:both}#page,.main-header,.videoWrapper{position:relative}.code,code,pre{letter-spacing:0}.code-wrap pre,pre{white-space:pre-wrap}.caption,.main-header,.me,.pagination,.pagination a,footer{text-align:center}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border:none;font:inherit;margin:0;padding:0;vertical-align:baseline}button,input{background:0 0}body{background:#fff;color:#555;font-family:Georgia,Times;font-weight:300;font-style:normal;font-size:19px;line-height:1.725;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-text-size-adjust:100%}blockquote,em{font-style:italic}@media(max-width:800px){body{font-size:17px}}@media(max-width:600px){body{font-size:15px}}h1,h2,h3,h4,h5{color:#212121;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:600;font-size:1em;line-height:1.3;margin-bottom:1em}h2,h3,h4,h5{margin-top:2em}#menu a,.button{font-weight:400}.post ol,.post ul,amp-video,amp-vimeo,amp-youtube,iframe,p,video{margin:0 0 1em}.quote,blockquote,ol,ul{margin:0 0 15px}twitterwidget{margin-bottom:1em!important}a{font-weight:inherit;text-decoration:none;transition:color .15s ease-out,border-bottom-color .15s ease-out}p a{border-bottom:1px solid #eee}p a:hover{border-bottom-color:#212121}strong{font-weight:700}h2,h3{font-weight:400}h1{font-size:1.7em}h2{color:#444;font-size:1.6em}h3{color:#666;font-size:1.4em}h4{font-size:1.18em}h5{font-size:1em}a h1,a h2,a h3,a h4,a h5{transition:color .15s ease-out}a:hover h1,a:hover h2,a:hover h3,a:hover h4,a:hover h5{color:#3498db}blockquote{border-left:2px solid #ccc;padding-left:20px}ol,ul{padding-left:25px}ul{list-style:square}ol{list-style:decimal}hr{background:#eee;color:#eee;height:2px;margin:30px auto;width:50%}.main-header,.post,.post .svg-container object{width:100%}code,pre{color:#333;font-family:Courier,Menlo,Monaco;font-size:.8em;overflow-x:auto}.author,.main-header{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif}pre{padding:.8em 1em}code{margin:0}.post::after{content:''}.main-header{background-color:#005689;overflow:hidden;padding:1em}#menu{display:inline-block;margin:1px 0}#menu a{color:#fff;font-size:14px;margin-left:15px;padding:20px 10px;text-transform:uppercase}@media(max-width:500px){#menu a{margin-left:10px;padding:10px 5px}}#menu a:first-child{margin-left:0}#menu a[aria-current]{font-weight:700}#page{margin:0 auto;max-width:40em;padding:3em 2em}.videoWrapper{height:0;margin-bottom:1em;padding-bottom:56.25%;padding-top:25px}.videoWrapper amp-youtube,.videoWrapper iframe{height:100%;left:0;position:absolute;top:0;width:100%}.wrapper{border-top:2px solid #eee;padding:3em 0}.wrapper:first-child{border-top:none;padding-top:5%}.posts-list h2{margin-top:0}.post{display:block}.post div[itemprop=articleBody]>p:first-child{color:#333}.post li{margin-bottom:.5em}.post p img{border:1px solid #eee;display:block;max-width:100%}.post img+.caption{padding-top:5px}.post .svg-container{margin-bottom:5%;max-width:100%;text-align:center}video{height:auto;max-width:100%}.pagination a{min-width:30px;max-height:30px}footer{border-top:1px dashed #ddd;padding:2em}.timing-stats{font-size:.7em;padding:.35em}.button{background-color:#fff;border:1px solid #555;border-radius:20px;color:#555;display:inline-block;font-size:13px;line-height:10px;padding:10px 20px;transition:background-color .15s ease-out}.button:hover{background-color:#3498db;border-color:transparent;color:#fff}.button.inactive{background-color:#ccc;color:#fff}.search-goog input{border:2px solid #ddd;padding:10px}.search-goog input[type=submit]{background-color:#ddd;cursor:pointer}@media only screen and (max-width:768px){#page,.wrapper{margin:0;max-width:100%;padding:1.5em;width:100%}.wrapper{padding:10% 0}.wraper::after{clear:both;content:'';display:block}.post{margin:0 auto;max-width:640px}}.outscreen{height:1px;left:-1000px;overflow:hidden;position:absolute;top:auto;width:1px}.callout{border:1px solid #eee;border-left-color:#777;border-left-width:5px;border-radius:3px;font-size:90%;padding:20px;margin:20px 0}.author{font-size:.8em;margin-bottom:2em}.author .name{line-height:1.5;padding-top:.35em}.bd,.media{overflow:hidden;zoom:1}.media .img{float:left}.avatar-img{border-radius:100%;height:3.5em;margin-right:.5em;width:3.5em}.highlight{border:1px solid #eee;margin-bottom:1em;overflow-x:auto}.code{background:#fff;color:#333;display:block;overflow-x:auto}.code .comment,.code .meta{color:#969896}.code .emphasis,.code .quote,.code .string,.code .strong,.code .template-variable,.code .variable{color:#df5000}.code .keyword,.code .selector-tag,.code .type{color:#a71d5d}.code .attribute,.code .bullet,.code .literal,.code .symbol{color:#0086b3}.code .name,.code .section{color:#63a35c}.code .tag{color:#333}.code .attr,.code .selector-attr,.code .selector-class,.code .selector-id,.code .selector-pseudo,.code .title{color:#795da3}.code .addition{background-color:#eaffea;color:#55a532}.code .deletion{background-color:#ffecec;color:#bd2c00}.code .link{text-decoration:underline}.caption{display:block;font-size:.8em}.codepen-aspect-ratio>iframe{height:100%;position:absolute;width:100%}.twitter-tweet{margin-left:auto;margin-right:auto}.twitter-tweet::after{content:"";display:block;padding-bottom:20px;width:100%}.me{max-width:20em;margin:0 auto .5em}.me h1{margin-bottom:0}</style><link rel=amphtml href="/implementing-polymer-element/amp/"><meta name=theme-color content=#005689><link rel=manifest href=/manifest.json></head><body><script>!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-39254352-1","auto"),ga("send","pageview");</script><header class=main-header><nav id=menu><a href="/">Blog</a> <a href="/projects/">Projects</a> <a href="/talks/">Speaking</a> <a href="/about-me/">About</a></nav></header><div id=page><article class=wrapper><div class=post><header><script type=application/ld+json>{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "Polymer and Web Components",
  
  "description": "<p>It’s been a few weeks since I last posted. Rather than being on vacations resting on a beach, I have be been busy trying out some things I had in my backlog, and one of them is <strong><a href="http://www.polymer-project.org/" target="_blank" rel="noopener">Polymer</a></strong>. Read below about what Polymer is and my impressions after creating some elements.</p>",
  
  "mainEntityOfPage":{
      "@type":"WebPage",
      "@id":"https://jmperezperez.com/implementing-polymer-element/"
  },
  "datePublished": "2014-08-05T14:30:00.000Z",
  "dateModified": "2018-01-04T11:39:58.000Z",
  
  "author": {
      "@type": "Person",
      "name": "Jose M. Perez",
      "url": "https://jmperezperez.com",
      "sameAs": [
        "http://www.linkedin.com/in/jmperezperez",
        "https://twitter.com/jmperezperez"
      ]
  },
  "publisher": {
      "@type": "Organization",
      "name": "Jose M. Perez's Blog"
      
      ,
      "logo": {
        "@type": "ImageObject",
        "url": "https://jmperezperez.com/assets/images/logo.png",
        "width": 600,
        "height": 60
      }
      
  }
}</script><div class="media author"><div class=img><a href="/about-me/"><img src=https://res.cloudinary.com/jmperez/image/upload/w_120,f_auto,c_scale/v1519156883/profile_ysrm5y.jpg class=avatar-img alt="" height=53 width=53 sizes=53px></a></div><div class=bd><address class=name itemprop=author itemscope itemtype=https://schema.org/Person><a href="/about-me/" itemprop=name>José M. Pérez</a></address><meta class=post-data itemprop=datePublished content=2014-08-05T14:30:00.000Z>August 05 2014</div></div><h1>Polymer and Web Components</h1></header><p>It’s been a few weeks since I last posted. Rather than being on vacations resting on a beach, I have be been busy trying out some things I had in my backlog, and one of them is <strong><a href="http://www.polymer-project.org/" target=_blank rel=noopener>Polymer</a></strong>. Read below about what Polymer is and my impressions after creating some elements.</p><a id=more></a><h2 id=Polymer><a href=#Polymer class=headerlink title=Polymer></a>Polymer</h2><p>Web components are a collection of standards that allow the creation of custom HTML elements. These elements encapsulate HTML, CSS and Javascript which is not accessible from external code. Browser support at the moment is limited, so until web components are widely supported, there are polyfills such as Polymer or <a href="http://www.x-tags.org/" target=_blank rel=noopener>X-Tag</a> to get started.</p><p>Google has launched a bunch of Polymer elements, both <a href=http://www.polymer-project.org/docs/elements/core-elements.html target=_blank rel=noopener>Core elements</a> and <a href=http://www.polymer-project.org/docs/elements/paper-elements.html target=_blank rel=noopener>Paper elements</a>, which follow their concept of Material Design. As a developer hearing about new things being released every day, I have started to appreciate a proper documentation accompanying the code, and I think the developers in charge of Polymer have made a great work.</p><p>I encourage you to check out their site, which is also a great example of a Jekyll site and <a href=https://github.com/Polymer/docs target=_blank rel=noopener>is available on GitHub</a>. They even have “Edit on GitHub” links to fork the project and send pull requests to improve it. The documentation contains lots of examples of already made elements, a tutorial about creating one from scratch (called seed-element) and an awesome drag&amp;drop <a href="http://www.polymer-project.org/tools/designer/" target=_blank rel=noopener>designer</a> that is open source and supports, right from the start, importing your own Polymer elements.</p><h3 id=Seed-Element><a href=#Seed-Element class=headerlink title="Seed Element"></a>Seed Element</h3><p>The seed-element is a basic component you can use as the boilerplate for yours. Even better, it generates a documentation page based on the JSDoc comments of the code, describing the attributes, properties and events of the element. In addition, you can provide a demo page. This page is very handy for showing how the element works, and making use og GitHub pages it is straightforward to serve the page from the element’s GitHub repo. Did I mention it also contains a basic test spec plus a test runner?</p><p>Following the seed-element file structure has another advantage. There exist sites that index web components that developers are building. So far, I know about these ones:</p><ul><li><a href="http://customelements.io/" target=_blank rel=noopener>Custom Elements</a></li><li><a href=http://component.kitchen target=_blank rel=noopener>Component Kitchen</a></li></ul><p>It’s enough with adding a <code>&quot;web-components&quot;</code> keyword in the <code>bower.json</code> manifest:</p><figure class="highlight plain"><table><tr><td class=code><pre><span class=line>&quot;keywords&quot;: [</span><br><span class=line>  &quot;web-components&quot;</span><br><span class=line>]</span><br></pre></td></tr></table></figure><p><em>Note: The <code>seed-element</code> project defines the <code>&quot;keywords&quot;</code> value as a comma separated string (i.e. <code>&quot;seed, polymer, web-components&quot;</code>). If you see that your web component is not indexed in those sites, try rewriting it as an array of strings instead.</em></p><p>I have been developing myself some components using Polymer, since I like the concept of a self contained piece of HTML, CSS and Javascript. It feels a bit like an AngularJS directive (except for the CSS) and a bit like a great replacement for <code>iframe</code>s.</p><h3 id=Replacement-for-iframes><a href=#Replacement-for-iframes class=headerlink title="Replacement for iframes?"></a>Replacement for iframes?</h3><p>Yes. We have used iframes for isolating some functionality or for preventing the style of the outer page from affecting the design of a component. Some widgets had to be implemented as iframes, and this would lead to problems for communicating back and forth between the widget and the hosting page, or the impossibility of detecting changes in window size and resize the iframe accordingly.</p><p>Although web components don’t fix all the issues, they present themselves as a good candidate to replace iframes in certain use cases.</p><h3 id=A-bless-and-a-curse><a href=#A-bless-and-a-curse class=headerlink title="A bless and a curse"></a>A bless and a curse</h3><p>Web components are the new kids on the block. Expect overuse and misuse of them in the coming months. Have you heard about jQuery plugins? There are plugins for everything. Some of them very useful, some of them easily replaced by a short snippet.</p><p>I foresee we will have web components for lots of applications that can be solved with little extra markup and a bit of Javascript. Why would I use a <code>div</code> with a <code>class</code> when I can use my own HTML tag?</p><p>As a developer be aware of that. Assess the impact of every element you introduce in your site.</p><h3 id=Performance-impact-of-a-Polymer-component><a href=#Performance-impact-of-a-Polymer-component class=headerlink title="Performance impact of a Polymer component"></a>Performance impact of a Polymer component</h3><p>Components are included using an import directive in your page:</p><figure class="highlight html"><table><tr><td class=code><pre><span class=line><span class=tag>&lt;<span class=name>link</span> <span class=attr>rel</span>=<span class=string>"import"</span> <span class=attr>href</span>=<span class=string>"my-component.html"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>This result in one request. But a component can request other resources such as images, CSS and Javascript, in the same way a regular web page does. This may require extra requests. And not only that, since a key point about components is that they should behave like small composable pieces that can be used to create larger components.</p><p>Take a look at the following example, which uses 3 components:</p><figure class="highlight html"><table><tr><td class=code><pre><span class=line><span class=meta>&lt;!DOCTYPE html&gt;</span></span><br><span class=line><span class=tag>&lt;<span class=name>html</span>&gt;</span></span><br><span class=line>	<span class=tag>&lt;<span class=name>head</span>&gt;</span></span><br><span class=line>		<span class=tag>&lt;<span class=name>script</span> <span class=attr>src</span>=<span class=string>"../platform/platform.js"</span>&gt;</span><span class=undefined></span><span class=tag>&lt;/<span class=name>script</span>&gt;</span></span><br><span class=line>		<span class=tag>&lt;<span class=name>link</span> <span class=attr>rel</span>=<span class=string>"import"</span> <span class=attr>href</span>=<span class=string>"../components/core-input.html"</span>&gt;</span></span><br><span class=line>		<span class=tag>&lt;<span class=name>link</span> <span class=attr>rel</span>=<span class=string>"import"</span> <span class=attr>href</span>=<span class=string>"../components/spotify-search.html"</span>&gt;</span></span><br><span class=line>		<span class=tag>&lt;<span class=name>link</span> <span class=attr>rel</span>=<span class=string>"import"</span> <span class=attr>href</span>=<span class=string>"../components/spotify-previewbutton.html"</span>&gt;</span></span><br><span class=line>	<span class=tag>&lt;/<span class=name>head</span>&gt;</span></span><br><span class=line>	<span class=tag>&lt;<span class=name>body</span>&gt;</span></span><br><span class=line>		<span class=tag>&lt;<span class=name>template</span> <span class=attr>is</span>=<span class=string>"auto-binding"</span>&gt;</span></span><br><span class=line>		    <span class=tag>&lt;<span class=name>core-input</span> <span class=attr>id</span>=<span class=string>"input"</span> <span class=attr>placeholder</span>=<span class=string>"Type the name of a track"</span> /&gt;</span></span><br><span class=line>		    <span class=tag>&lt;<span class=name>spotify-search</span> <span class=attr>query</span>=<span class=string>"&#123;&#123; $.input.value &#125;&#125;"</span> <span class=attr>id</span>=<span class=string>"search"</span> <span class=attr>type</span>=<span class=string>"track"</span> /&gt;</span></span><br><span class=line>		    <span class=tag>&lt;<span class=name>spotify-previewbutton</span> <span class=attr>uri</span>=<span class=string>"&#123;&#123; $.search.result[0].uri &#125;&#125;"</span> /&gt;</span></span><br><span class=line>		<span class=tag>&lt;/<span class=name>template</span>&gt;</span></span><br><span class=line>		<span class=tag>&lt;<span class=name>script</span>&gt;</span><span class=undefined></span></span><br><span class=line><span class=undefined>			...</span></span><br><span class=line><span class=undefined>		</span><span class=tag>&lt;/<span class=name>script</span>&gt;</span></span><br><span class=line>	<span class=tag>&lt;/<span class=name>body</span>&gt;</span></span><br><span class=line><span class=tag>&lt;/<span class=name>html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>The <code>core-input</code> renders an <code>input</code> HTML element where the user can type the name of a track. The <code>spotify-search</code> component takes the track name and searches for tracks in Spotify matching that name. The <code>spotify-previewbutton</code> renders a player with a “play” button to play the track. There are 3 requests to fetch the components, and depending on their implementation they will trigger even more requests.</p><h3 id=Inlining-dependencies><a href=#Inlining-dependencies class=headerlink title="Inlining dependencies"></a>Inlining dependencies</h3><p>Should components inline their dependencies? This is a bit unclear at the moment. The <code>seed-element</code> project inlines the Javascript code in its <code>seed-element.html</code> file, but it doesn’t inline the CSS, which lives in <code>seed-element.css</code>. If you choose not to inline the JS code, the <code>index.html</code> of the project, which shows basic documentation about the usage of the component, will not process the JSDoc comments in the code, not rendering this useful information.</p><p>Including several components may incur in lots of requests. It’s turn to <strong>vulcanize</strong>.</p><h3 id=Vulcanize><a href=#Vulcanize class=headerlink title=Vulcanize></a>Vulcanize</h3><p><a href=https://github.com/Polymer/vulcanize target=_blank rel=noopener>Vulcanize</a> is used to concatenate a set of Web Components into one file.</p><p>It recursively pulls in all your imports, flattens their dependencies and spits out something that can potentially reduce the number of network requests your app makes.</p><p>I recommend you to have a look at <a href=http://www.polymer-project.org/articles/concatenating-web-components.html target=_blank rel=noopener>Concatenating Web Components with Vulcanize</a>, where Addy Osmani explains how to use this tool.</p><h2 id=Go-and-experiment-with-it><a href=#Go-and-experiment-with-it class=headerlink title="Go and experiment with it"></a>Go and experiment with it</h2><p>The best way of learning a library is to use it. Build a simple web component, try to use it, share it on Github, and publish it on Bower. It will not only help you understand how to create one of these components, but also understand better what happens when you use this paradigm in your site.</p></div><hr/></article></div><script>"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js").then(function(n){})["catch"](function(n){})});</script><footer><section class=links><a href=https://twitter.com/jmperezperez>@jmperezperez</a> on Twitter · <a href=https://github.com/JMPerez>GitHub</a> · <a href=http://www.linkedin.com/in/jmperezperez>LinkedIn</a></section><div class=timing-stats></div></footer><script>window.addEventListener('load', () => {
     setTimeout(() => {
      var t = window.performance && performance.timing;
      function round2(num) { return Math.round(num * 100) / 100; }
      if (t) {
          var timingStats = document.querySelector('.timing-stats');
          var loadTime = (t.loadEventEnd - t.navigationStart) / 1000;
          var timingStatsHTML = 'This page loaded in ' + round2(loadTime) + ' seconds. ';
          var performanceEntries = performance.getEntriesByType('paint');
          performanceEntries.forEach(function(performanceEntry, i, entries) {
            var name = performanceEntry.name;
            if (name === 'first-paint') {
              name = '<abbr title=' + name + '>FP</abbr>';
            } else if (name === 'first-contentful-paint') {
              name = '<abbr title=' + name + '>FCP</abbr>';
            }
            timingStatsHTML += name + ' was ' + round2(performanceEntry.startTime / 1000) + ' seconds. ';
          });
          timingStats.innerHTML = timingStatsHTML;
      }
    }, 0);
   });</script></body></html>