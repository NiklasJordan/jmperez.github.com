<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta http-equiv=Accept-CH content="DPR, Viewport-Width, Width"><title>iOS 9 and content blockers - JMPerez Blog</title><meta name=description content="Some opinions on ads and content blockers and how they affect web development."><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,viewport-fit=cover"><link rel=author href="https://plus.google.com/107456024651797783420"/><link rel=alternate type=application/rss+xml title="Jose M. Perez" href=https://jmperezperez.com/feed.xml><meta name=twitter:card content=summary><meta name=twitter:url content="https://jmperezperez.com/ios-ads-blockers/" property=og:url><meta name=twitter:title content="iOS 9 and content blockers" property=og:title><meta name=twitter:description content="Some opinions on ads and content blockers and how they affect web development." property=og:description><meta name=twitter:site content=@jmperezperez><meta property=fb:app_id content=1702266270006013><meta property=fb:pages content="1639848659664211"/><link rel=canonical href="https://jmperezperez.com/ios-ads-blockers/"/><style>a,a:hover{color:#2a7cb2}.post::after,hr{display:block;clear:both}#page,.main-header,.videoWrapper{position:relative}.code,code,pre{letter-spacing:0}.caption,.intro-blog,.main-header,.pagination,.pagination a,footer{text-align:center}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border:none;font:inherit;margin:0;padding:0;vertical-align:baseline}button,input{background:0 0}body{background:#fff;color:#555;font-family:Georgia,Times;font-weight:300;font-style:normal;font-size:19px;line-height:1.725;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-text-size-adjust:100%}blockquote,em{font-style:italic}@media(max-width:800px){body{font-size:17px}}@media(max-width:600px){body{font-size:15px}}h1,h2,h3,h4,h5{color:#212121;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:600;font-size:1em;line-height:1.3;margin-bottom:1em}h2,h3,h4,h5{margin-top:2em}#menu a,.button{font-weight:400}.post ol,.post ul,amp-video,amp-vimeo,amp-youtube,iframe,p,video{margin:0 0 1em}.quote,blockquote,ol,ul{margin:0 0 15px}twitterwidget{margin-bottom:1em!important}a{font-weight:inherit;text-decoration:none;transition:color .15s ease-out,border-bottom-color .15s ease-out}p a{border-bottom:1px solid #eee}p a:hover{border-bottom-color:#212121}strong{font-weight:700}h2,h3{font-weight:400}h1{font-size:1.7em}h2{color:#444;font-size:1.6em}h3{color:#666;font-size:1.4em}#menu a[aria-current],.intro-blog{font-weight:700}h4{font-size:1.18em}h5{font-size:1em}a h1,a h2,a h3,a h4,a h5{transition:color .15s ease-out}a:hover h1,a:hover h2,a:hover h3,a:hover h4,a:hover h5{color:#3498db}blockquote{border-left:2px solid #ccc;padding-left:20px}ol,ul{padding-left:25px}ul{list-style:square}ol{list-style:decimal}hr{background:#eee;color:#eee;height:2px;margin:30px auto;width:50%}.main-header,.post,.post .svg-container object{width:100%}code,pre{color:#333;font-family:Courier,Menlo,Monaco;font-size:.8em;overflow-x:auto}.author,.intro-blog,.main-header{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif}pre{padding:.8em 1em}code{margin:0}.post::after{content:''}.main-header{background-color:#005689;overflow:hidden;padding:1em}#menu{display:inline-block;margin:1px 0}#menu a{color:#fff;font-size:14px;margin-left:15px;padding:20px 10px;text-transform:uppercase}@media(max-width:500px){#menu a{margin-left:10px;padding:10px 5px}}#menu a:first-child{margin-left:0}#page{margin:0 auto;max-width:40em;padding:3em 2em}.videoWrapper{height:0;margin-bottom:1em;padding-bottom:56.25%;padding-top:25px}.videoWrapper amp-youtube,.videoWrapper iframe{height:100%;left:0;position:absolute;top:0;width:100%}.wrapper{border-top:2px solid #eee;padding:3em 0}.wrapper:first-child{border-top:none;padding-top:5%}.posts-list h2{margin-top:0}.post{display:block}.post div[itemprop=articleBody]>p:first-child{color:#333}.post li{margin-bottom:.5em}.post p img{border:1px solid #eee;display:block;max-width:100%}.post img+.caption{padding-top:5px}.post .svg-container{margin-bottom:5%;max-width:100%;text-align:center}video{height:auto;max-width:100%}.pagination a{min-width:30px;max-height:30px}footer{background:rgba(0,0,0,.05);padding:2em}.button{background-color:#fff;border:1px solid #555;border-radius:20px;color:#555;display:inline-block;font-size:13px;line-height:10px;padding:10px 20px;transition:background-color .15s ease-out}.button:hover{background-color:#3498db;border-color:transparent;color:#fff}.button.inactive{background-color:#ccc;color:#fff}.search-goog input{border:2px solid #ddd;padding:10px}.search-goog input[type=submit]{background-color:#ddd;cursor:pointer}@media only screen and (max-width:768px){#page,.wrapper{margin:0;max-width:100%;padding:1.5em;width:100%}.wrapper{padding:10% 0}.wraper::after{clear:both;content:'';display:block}.post{margin:0 auto;max-width:640px}}.outscreen{height:1px;left:-1000px;overflow:hidden;position:absolute;top:auto;width:1px}.callout{border:1px solid #eee;border-left-color:#777;border-left-width:5px;border-radius:3px;font-size:90%;padding:20px;margin:20px 0}.author{font-size:.8em;margin-bottom:2em}.author .name{line-height:1.5;padding-top:.35em}.bd,.media{overflow:hidden;zoom:1}.media .img{float:left}.avatar-img{border-radius:100%;height:3.5em;margin-right:.5em;width:3.5em}.highlight{border:1px solid #eee;margin-bottom:1em;overflow-x:auto}.code{background:#fff;color:#333;display:block;overflow-x:auto}.code .comment,.code .meta{color:#969896}.code .emphasis,.code .quote,.code .string,.code .strong,.code .template-variable,.code .variable{color:#df5000}.code .keyword,.code .selector-tag,.code .type{color:#a71d5d}.code .attribute,.code .bullet,.code .literal,.code .symbol{color:#0086b3}.code .name,.code .section{color:#63a35c}.code .tag{color:#333}.code .attr,.code .selector-attr,.code .selector-class,.code .selector-id,.code .selector-pseudo,.code .title{color:#795da3}.code .addition{background-color:#eaffea;color:#55a532}.code .deletion{background-color:#ffecec;color:#bd2c00}.code .link{text-decoration:underline}.code-wrap pre{white-space:pre-wrap}.caption{display:block;font-size:.8em}.codepen-aspect-ratio>iframe{height:100%;position:absolute;width:100%}.twitter-tweet{margin-left:auto;margin-right:auto}.twitter-tweet::after{content:"";display:block;padding-bottom:20px;width:100%}.intro-blog{font-size:1.5em;line-height:1.3;margin:2em auto;max-width:640px}</style><link rel=amphtml href="/ios-ads-blockers/amp/"><meta name=theme-color content=#005689><link rel=manifest href=/manifest.json></head><body><script>!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-39254352-1","auto"),ga("send","pageview");</script><header class=main-header><nav id=menu><a href="/">Blog</a> <a href="/projects/">Projects</a> <a href="/talks/">Speaking</a> <a href="/about-me/">About</a></nav></header><div id=page><article class=wrapper><div class=post><header><script type=application/ld+json>{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "iOS 9 and content blockers",
  
  "description": "Some opinions on ads and content blockers and how they affect web development.",
  
  "mainEntityOfPage":{
      "@type":"WebPage",
      "@id":"https://jmperezperez.com/ios-ads-blockers/"
  },
  "datePublished": "2015-09-21T15:33:00.000Z",
  "dateModified": "2018-01-04T11:39:58.000Z",
  
  "author": {
      "@type": "Person",
      "name": "Jose M. Perez"
  },
  "publisher": {
      "@type": "Organization",
      "name": "Jose M. Perez's Blog"
      
      ,
      "logo": {
        "@type": "ImageObject",
        "url": "https://jmperezperez.com/assets/images/logo.png",
        "width": 600,
        "height": 60
      }
      
  }
}</script><div class="media author"><div class=img><a href="/about-me/"><img src=https://res.cloudinary.com/jmperez/image/upload/w_auto,f_auto,c_scale/v1510494899/jmperez_ogpkt5.jpg class=avatar-img alt="" height=53 width=53 sizes=53px></a></div><div class=bd><address class=name itemprop=author itemscope itemtype=https://schema.org/Person><a href="/about-me/" itemprop=name>José M. Pérez</a></address><meta class=post-data itemprop=datePublished content=2015-09-21T15:33:00.000Z>September 21 2015</div></div><h1>iOS 9 and content blockers</h1></header><p>Everyone is talking about ad-blockers these days after the release of iOS 9. But we should talk more about the “content blockers” feature in general, which can, by default, block scripts, fonts or images. What you can do as a web developer is what you should have been doing until now: don’t take anything for granted and follow a progressive enhancement approach.</p><a id=more></a><p>I have read lots of articles about why it is a good or bad idea to use these blockers, and I can understand both sides of the discussion. I get that it can make things difficult for businesses that rely on advertising and tracking scripts to finance themselves, and I also understand that as a user I want to see web content quickly. If that comes with savings in bandwidth, double win.</p><p>If I were to choose a post with which I agree, I would pick <a href="http://meyerweb.com/eric/thoughts/2015/09/19/content-blocking-primer/" target=_blank rel=noopener>Content Blocking Primer</a>. It doesn’t say that this is the end of the world, and encourages web developers to do what they should have been doing all this time.</p><p>There have been browser extensions to block certain content for a long time. But it’s now when it gets built-in and easily accessible for everyone, not necessarily tech-savvy ones.</p><h2 id=No-scripts><a href=#No-scripts class=headerlink title="No scripts"></a>No scripts</h2><p>Our content (at least the most important bit) should ideally be rendered server side. This improves load time and makes all bots index our content.</p><blockquote><p>“But Google Bot is able to run Javascript”, you say.</p></blockquote><p>Truth is that there are other bots out there that might not be that smart. Say someone shares a link to your site on Twitter. A Twitter bot goes and makes a request to that page and tries to use its metadata to show a nice Twitter Card. Facebook? Same story.</p><p>Relying on Javascript for our main content makes us also vulnerable to SPOF issues. Say the JS file has a typo, or maybe the CDN that contains a JS file you need is not accessible in that moment. If your content can be rendered server-side, the user will still be able to see it.</p><blockquote><p>“But I need Javascript for my site to work!” you claim.</p></blockquote><p>You are probably right for this one, but more often than not you depend on Javascript because you didn’t think of a scenario in which Javascript wasn’t available. After all, who disables Javascript these days! <em>Note: I’ve done this and I continue doing it, so you can blame me too.</em></p><p>Say you use Javascript for a fancy lazy-loading component that makes your site faster by requesting images only when they are within the viewport. You don’t want the browser to start making the requests as soon as it gets the markup, so you do something like:</p><figure class="highlight html"><table><tr><td class=code><pre><span class=line><span class=tag>&lt;<span class=name>div</span> <span class=attr>class</span>=<span class=string>"image"</span> <span class=attr>data-img</span>=<span class=string>"http://example.com/image.jpg"</span>&gt;</span><span class=tag>&lt;/<span class=name>div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>and use Javascriot to either replace the <code>&lt;div/&gt;</code> with an <code>&lt;img/&gt;</code> or set its <code>background</code> using CSS. Now imagine the browser is not running Javascript, in which case the image won’t be shown.</p><p>Now have a look at this snippet:</p><figure class="highlight html"><table><tr><td class=code><pre><span class=line><span class=tag>&lt;<span class=name>div</span> <span class=attr>class</span>=<span class=string>"image"</span> <span class=attr>data-img</span>=<span class=string>"http://example.com/image.jpg"</span>&gt;</span><span class=tag>&lt;/<span class=name>div</span>&gt;</span></span><br><span class=line><span class=tag>&lt;<span class=name>noscript</span>&gt;</span><span class=tag>&lt;<span class=name>img</span> <span class=attr>src</span>=<span class=string>"http://example.com/image.jpg"</span>&gt;</span><span class=tag>&lt;/<span class=name>noscript</span>&gt;</span></span><br></pre></td></tr></table></figure><p>It adds a <code>&lt;noscript&gt;</code> tag that will make the browser render the content when it doesn’t have Javascript.</p><blockquote><p>“But then you are downloading all the images” you say.</p></blockquote><p>And you are right, but maybe that is better than not loading any image at all.</p><p>Tracking is something to think of too. A script like Google Analytics’ wouldn’t run, and the visit wouldn’t be reported. This is a problem if you rely on these data, in which case you will need to make the request server-side using something like <a href=https://developers.google.com/analytics/devguides/collection/protocol/v1/devguide target=_blank rel=noopener>Analytics Measurement Protocol</a>.</p><h2 id=Custom-fonts><a href=#Custom-fonts class=headerlink title="Custom fonts"></a>Custom fonts</h2><p>Are you really worried about custom fonts? You should already be providing a font stack with default system fonts that are used when the custom one fails to load (or after a certain timeout). In addition, you should be thinking of avoiding the “FOIT” (Flash of Invisible Text) if you want the user to be able to see the text quicker. I highly recommend you check <a href=https://www.filamentgroup.com/lab/font-events.html target=_blank rel=noopener>Font Loading Revisited with Font Events</a>, and make a couple of tests using <a href=http://webpagetest.org target=_blank rel=noopener>WebPageTest</a> to see the impact of custom fonts in your site.</p><blockquote><p>“But I use custom fonts to show icons!” you shout.</p></blockquote><p><a href="https://css-tricks.com/icon-fonts-vs-svg/" target=_blank rel=noopener>Inline SVG vs Icon Fonts</a> is a great post that compares SVG with icon fonts. tl;dr? you can use SVGs instead of Web Fonts.</p><h1 id=Is-this-whole-blocking-thing-bad-for-the-web><a href=#Is-this-whole-blocking-thing-bad-for-the-web class=headerlink title="Is this whole blocking thing bad for the web?"></a>Is this whole blocking thing bad for the web?</h1><p>Sometimes I believe we, as web developers, should do more in order to avoid third-party scripts from landing on the sites we build. The web has become a container where it is far too easy to drop things to, and it looks like one more script doesn’t damage that much.</p><p>At the same time I wonder what the situation is in the native apps world. Everything seems so fast when you install an app. Make a quick test accessing your favourite newspaper from your phone, both on the web and through their app. If it’s not <a href="http://www.theguardian.com/" target=_blank rel=noopener>The Guardian</a>, which have done a great job with their website, chances are that the web is much slower than their app. And then everyone nods when the read about <a href="https://instantarticles.fb.com/" target=_blank rel=noopener>Facebook’s Instant Articles</a> and blames the web for its slowness.</p><p>The web is deliberately slower not because the technology behind it, but because of the bloated set of non-sense third-party stuff we have been putting into.</p><p>I am really looking forward to seeing where this takes us.</p></div><hr/></article></div><script>"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js").then(function(n){})["catch"](function(n){})});</script><footer><section class=links><a href=https://twitter.com/jmperezperez>@jmperezperez</a> on Twitter · <a href=https://github.com/JMPerez>GitHub</a> · <a href=http://www.linkedin.com/in/jmperezperez>LinkedIn</a></section></footer></body></html>